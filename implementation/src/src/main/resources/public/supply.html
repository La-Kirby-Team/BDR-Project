<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winventory - Gestion de Stock de Vin - Approvisionnement</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="style/css/supply.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
<!-- Header -->
<header class="bg-light p-3 rounded mb-4 d-flex align-items-center justify-content-between shadow-sm">
    <a href="mainMenu.html" class="logo">
        <img src="style/imgs/Logo_court.png" alt="logo" width="100" />
    </a>
    <nav>
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Magasins
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">Magasin 1</a>
                <a class="dropdown-item" href="#">Magasin 2</a>
                <a class="dropdown-item" href="#">Magasin 3</a>
            </div>
        </div>
    </nav>
</header>

<!-- Conteneur principal -->
<div class="container mt-5">
    <h1 class="text-center text-primary mb-4">Approvisionnement</h1>
    <legend>Produit N°</legend>
    <fieldset>
        <form id="dynamic-form" action="/submit-form" method="post">
            <!-- Champs dynamiques -->
            <div id="dynamic-fields">
                <!-- Première ligne de champs -->
                <div class="row mb-3">
                    <div class="col-md-3">
                        <label for="name-1" class="form-label text-left">Produit</label>
                        <input type="text" id="name-1" name="product[]" class="form-control" required>
                    </div>
                    <div class="col-md-3">
                        <label for="volume-1" class="form-label text-left">Volume</label>
                        <input type="number" id="volume-1" name="volume[]" class="form-control" required>
                    </div>
                    <div class="col-md-3">
                        <label for="recipient-1" class="form-label text-left">Récipient</label>
                        <select id="recipient-1" name="recipient[]" class="form-control" required>
                            <option value="Can">Cannette</option>
                            <option value="Bottle">Bouteille</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="provider-1" class="form-label text-left">Fournisseur</label>
                        <input type="text" id="provider-1" name="provider[]" class="form-control" required>
                    </div>
                </div>

                <!-- Deuxième ligne de champs -->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="EndOfSales-1" class="form-label text-left">Date Fin de Vente</label>
                        <input type="date" id="EndOfSales-1" name="EndOfSales[]" class="form-control" required>
                    </div>
                    <div class="col-md-4">
                        <label for="Peremption-1" class="form-label text-left">Date Péremption</label>
                        <input type="date" id="Peremption-1" name="Peremption[]" class="form-control" required>
                    </div>
                    <div class="col-md-4">
                        <label for="CommandDate-1" class="form-label text-left">Date de la Commande</label>
                        <input type="date" id="CommandDate-1" name="CommandDate[]" class="form-control" required>
                    </div>
                </div>
            </div>


        </form>
    </fieldset>
    <!-- Bouton Ajouter -->
    <div class="text-center">
        <button type="button" id="add-field" class="btn btn-success">+</button>
    </div>

    <!-- Bouton Soumettre -->
    <div class="text-center">
        <button type="submit" class="btn btn-primary mt-3">Soumettre</button>
    </div>
</div>

<!-- Script pour champs dynamiques -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        let fieldCount = 1; // Compteur pour les champs

        // Événement pour ajouter un champ dynamique
        document.getElementById('add-field').addEventListener('click', function() {
            fieldCount++; // Incrémenter le compteur pour identifier chaque champ
            const dynamicFields = document.getElementById('dynamic-fields');

            // Création de la nouvelle ligne de champs
            const newFieldRow = document.createElement('div');
            newFieldRow.innerHTML = `
            <!-- Première ligne de champs -->
            <div class="row mb-3">
                <div class="col-md-3">
                    <label for="name-${fieldCount}" class="form-label text-left">Produit</label>
                    <input type="text" id="name-${fieldCount}" name="product[]" class="form-control" required>
                </div>
                <div class="col-md-3">
                    <label for="volume-${fieldCount}" class="form-label text-left">Volume</label>
                    <input type="number" id="volume-${fieldCount}" name="volume[]" class="form-control" required>
                </div>
                <div class="col-md-3">
                    <label for="recipient-${fieldCount}" class="form-label text-left">Récipient</label>
                    <select id="recipient-${fieldCount}" name="recipient[]" class="form-control" required>
                        <option value="Can">Cannette</option>
                        <option value="Bottle">Bouteille</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="provider-${fieldCount}" class="form-label text-left">Fournisseur</label>
                    <input type="text" id="provider-${fieldCount}" name="provider[]" class="form-control" required>
                </div>
            </div>

            <!-- Deuxième ligne de champs -->
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="EndOfSales-${fieldCount}" class="form-label text-left">Date Fin de Vente</label>
                    <input type="date" id="EndOfSales-${fieldCount}" name="EndOfSales[]" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="Peremption-${fieldCount}" class="form-label text-left">Date Péremption</label>
                    <input type="date" id="Peremption-${fieldCount}" name="Peremption[]" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label for="CommandDate-${fieldCount}" class="form-label text-left">Date de la Commande</label>
                    <input type="date" id="CommandDate-${fieldCount}" name="CommandDate[]" class="form-control" required>
                </div>
            </div>
        `;

            // Ajout de la nouvelle ligne de champs au formulaire
            dynamicFields.appendChild(newFieldRow);
        });
    });
</script>

</body>
</html>
